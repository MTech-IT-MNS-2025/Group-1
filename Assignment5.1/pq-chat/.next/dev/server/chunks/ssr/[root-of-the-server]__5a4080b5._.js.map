{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 34, "column": 0}, "map": {"version":3,"sources":["file:///home/suraj/Desktop/1st_sem/ic3/pq-chat/pages/index.js"],"sourcesContent":["// pages/index.js\nimport { useState } from \"react\";\nimport { useRouter } from \"next/router\";\n\nexport default function Home() {\n  const [username, setUsername] = useState(\"\");\n  const [publicKey, setPublicKey] = useState(\"\");\n  const [privateKeyFile, setPrivateKeyFile] = useState(null);\n  const router = useRouter();\n\n  async function handleSubmit(e) {\n    e.preventDefault();\n\n    if (!username) return alert(\"Enter username\");\n\n    await fetch(\"/api/register\", {\n      method: \"POST\",\n      headers: { \"Content-Type\": \"application/json\" },\n      body: JSON.stringify({ username, pqPublicKey: publicKey })\n    });\n\n    sessionStorage.setItem(\"username\", username);\n\n    if (privateKeyFile) {\n      const text = await privateKeyFile.text();\n      sessionStorage.setItem(\"pqc_private_key\", text);\n    }\n\n    router.push(\"/chat\");\n  }\n\n  return (\n    <div style={{ maxWidth: 600, margin: \"2rem auto\", padding: 20 }}>\n      <h1>Login / Register</h1>\n\n      <form onSubmit={handleSubmit}>\n        <label>Username</label>\n        <input\n          value={username}\n          onChange={(e) => setUsername(e.target.value)}\n          style={{ width: \"100%\", marginBottom: 10 }}\n        />\n\n        <label>PQC Public Key (Base64)</label>\n        <textarea\n          value={publicKey}\n          onChange={(e) => setPublicKey(e.target.value)}\n          style={{ width: \"100%\", height: 100, marginBottom: 10 }}\n        />\n\n        <label>Upload PQC Private Key</label>\n        <input\n          type=\"file\"\n          onChange={(e) => setPrivateKeyFile(e.target.files[0])}\n          style={{ marginBottom: 10 }}\n        />\n\n        <button type=\"submit\">Enter Chat</button>\n      </form>\n    </div>\n  );\n}\n\n"],"names":[],"mappings":"AAAA,iBAAiB;;;;;;AACjB;AACA;;;;AAEe,SAAS;IACtB,MAAM,CAAC,UAAU,YAAY,GAAG,IAAA,+GAAQ,EAAC;IACzC,MAAM,CAAC,WAAW,aAAa,GAAG,IAAA,+GAAQ,EAAC;IAC3C,MAAM,CAAC,gBAAgB,kBAAkB,GAAG,IAAA,+GAAQ,EAAC;IACrD,MAAM,SAAS,IAAA,oIAAS;IAExB,eAAe,aAAa,CAAC;QAC3B,EAAE,cAAc;QAEhB,IAAI,CAAC,UAAU,OAAO,MAAM;QAE5B,MAAM,MAAM,iBAAiB;YAC3B,QAAQ;YACR,SAAS;gBAAE,gBAAgB;YAAmB;YAC9C,MAAM,KAAK,SAAS,CAAC;gBAAE;gBAAU,aAAa;YAAU;QAC1D;QAEA,eAAe,OAAO,CAAC,YAAY;QAEnC,IAAI,gBAAgB;YAClB,MAAM,OAAO,MAAM,eAAe,IAAI;YACtC,eAAe,OAAO,CAAC,mBAAmB;QAC5C;QAEA,OAAO,IAAI,CAAC;IACd;IAEA,qBACE,qKAAC;QAAI,OAAO;YAAE,UAAU;YAAK,QAAQ;YAAa,SAAS;QAAG;;0BAC5D,qKAAC;0BAAG;;;;;;0BAEJ,qKAAC;gBAAK,UAAU;;kCACd,qKAAC;kCAAM;;;;;;kCACP,qKAAC;wBACC,OAAO;wBACP,UAAU,CAAC,IAAM,YAAY,EAAE,MAAM,CAAC,KAAK;wBAC3C,OAAO;4BAAE,OAAO;4BAAQ,cAAc;wBAAG;;;;;;kCAG3C,qKAAC;kCAAM;;;;;;kCACP,qKAAC;wBACC,OAAO;wBACP,UAAU,CAAC,IAAM,aAAa,EAAE,MAAM,CAAC,KAAK;wBAC5C,OAAO;4BAAE,OAAO;4BAAQ,QAAQ;4BAAK,cAAc;wBAAG;;;;;;kCAGxD,qKAAC;kCAAM;;;;;;kCACP,qKAAC;wBACC,MAAK;wBACL,UAAU,CAAC,IAAM,kBAAkB,EAAE,MAAM,CAAC,KAAK,CAAC,EAAE;wBACpD,OAAO;4BAAE,cAAc;wBAAG;;;;;;kCAG5B,qKAAC;wBAAO,MAAK;kCAAS;;;;;;;;;;;;;;;;;;AAI9B"}}]
}