{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 21, "column": 0}, "map": {"version":3,"sources":["file:///home/suraj/Desktop/1st_sem/ic3/pq-chat/utils/mongo.js"],"sourcesContent":["// utils/mongo.js\nconst mongoose = require(\"mongoose\");\n\nconst MONGODB_URI = process.env.MONGODB_URI || \"mongodb://localhost:27017/pqchat\";\n\nif (!MONGODB_URI) {\n  throw new Error(\"Please define the MONGODB_URI environment variable\");\n}\n\nlet cached = global.mongoose;\nif (!cached) {\n  cached = global.mongoose = { conn: null, promise: null };\n}\n\nasync function connect() {\n  if (cached.conn) return cached.conn;\n  if (!cached.promise) {\n    const opts = {\n      bufferCommands: false\n    };\n    cached.promise = mongoose.connect(MONGODB_URI, opts).then((mongoose) => {\n      return mongoose;\n    });\n  }\n  cached.conn = await cached.promise;\n  return cached.conn;\n}\n\nmodule.exports = connect;\n\n"],"names":[],"mappings":"AAAA,iBAAiB;AACjB,MAAM;AAEN,MAAM,cAAc,QAAQ,GAAG,CAAC,WAAW,IAAI;AAE/C;;AAIA,IAAI,SAAS,yDAAO,QAAQ;AAC5B,IAAI,CAAC,QAAQ;IACX,SAAS,yDAAO,QAAQ,GAAG;QAAE,MAAM;QAAM,SAAS;IAAK;AACzD;AAEA,eAAe;IACb,IAAI,OAAO,IAAI,EAAE,OAAO,OAAO,IAAI;IACnC,IAAI,CAAC,OAAO,OAAO,EAAE;QACnB,MAAM,OAAO;YACX,gBAAgB;QAClB;QACA,OAAO,OAAO,GAAG,SAAS,OAAO,CAAC,aAAa,MAAM,IAAI,CAAC,CAAC;YACzD,OAAO;QACT;IACF;IACA,OAAO,IAAI,GAAG,MAAM,OAAO,OAAO;IAClC,OAAO,OAAO,IAAI;AACpB;AAEA,OAAO,OAAO,GAAG"}},
    {"offset": {"line": 50, "column": 0}, "map": {"version":3,"sources":["file:///home/suraj/Desktop/1st_sem/ic3/pq-chat/models/User.js"],"sourcesContent":["// models/User.js\nconst mongoose = require(\"mongoose\");\n\nconst UserSchema = new mongoose.Schema({\n  username: { type: String, unique: true, required: true },\n\n  // PQC Public Key (base64 string)\n  pqPublicKey: { type: String, default: \"\" },\n\n  createdAt: { type: Date, default: Date.now }\n});\n\nmodule.exports = mongoose.models.User || mongoose.model(\"User\", UserSchema);\n\n"],"names":[],"mappings":"AAAA,iBAAiB;AACjB,MAAM;AAEN,MAAM,aAAa,IAAI,SAAS,MAAM,CAAC;IACrC,UAAU;QAAE,MAAM;QAAQ,QAAQ;QAAM,UAAU;IAAK;IAEvD,iCAAiC;IACjC,aAAa;QAAE,MAAM;QAAQ,SAAS;IAAG;IAEzC,WAAW;QAAE,MAAM;QAAM,SAAS,KAAK,GAAG;IAAC;AAC7C;AAEA,OAAO,OAAO,GAAG,SAAS,MAAM,CAAC,IAAI,IAAI,SAAS,KAAK,CAAC,QAAQ"}},
    {"offset": {"line": 73, "column": 0}, "map": {"version":3,"sources":["file:///home/suraj/Desktop/1st_sem/ic3/pq-chat/pages/api/users/%5Busername%5D.js"],"sourcesContent":["// pages/api/users/[username].js\nimport dbConnect from \"../../../utils/mongo\";\nimport User from \"../../../models/User\";\n\nexport default async function handler(req, res) {\n  await dbConnect();\n\n  const { username } = req.query;\n\n  const user = await User.findOne({ username }).lean();\n\n  if (!user) {\n    return res.status(404).json({ error: \"User not found\" });\n  }\n\n  return res.json({\n    username: user.username,\n    pqPublicKey: user.pqPublicKey || \"\"\n  });\n}\n\n"],"names":[],"mappings":"AAAA,gCAAgC;;;;;AAChC;AACA;;;AAEe,eAAe,QAAQ,GAAG,EAAE,GAAG;IAC5C,MAAM,IAAA,kHAAS;IAEf,MAAM,EAAE,QAAQ,EAAE,GAAG,IAAI,KAAK;IAE9B,MAAM,OAAO,MAAM,kHAAI,CAAC,OAAO,CAAC;QAAE;IAAS,GAAG,IAAI;IAElD,IAAI,CAAC,MAAM;QACT,OAAO,IAAI,MAAM,CAAC,KAAK,IAAI,CAAC;YAAE,OAAO;QAAiB;IACxD;IAEA,OAAO,IAAI,IAAI,CAAC;QACd,UAAU,KAAK,QAAQ;QACvB,aAAa,KAAK,WAAW,IAAI;IACnC;AACF"}}]
}